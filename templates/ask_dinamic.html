<!DOCTYPE html>
<html lang="uk">
    <head>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_ask.css') }}">
        <meta charset="utf-8">
        <title>
            Опитування
        </title>
        <style>
            img {
              max-width: 400px;
              height: auto;
            }
          </style>
    </head>

    <body>

        <div class="main-div">
        <h2 class="headtext">Привіт  {{people_name}}</h2>

        <h2 class="headtext">ОЦІНІТЬ ЗОБРАЖЕННЯ</h2>
        <form method="POST" action="{{ url_for('results', people_name=people_name) }}">
            {% for url in urls %}
            <div name="ask-div">
                <img src="{{ url }}" alt="Image" width="300">
              <input type="range" id="volume{{ loop.index + 1}}" name="volume{{ loop.index + 1}}" min="1" max="5">
                  <button id="recordButton{{ loop.index + 1}}" type="button"class = 'voiceButton'>Голосом</button>
            </div>
            {% endfor %}

        <!-- Відправити -->
        <input type="submit" id="submit" name="submit" >
        </form>
        </div>


        <script>
        const recordButton1 = document.querySelector('#recordButton1');
        const recordButton2 = document.querySelector('#recordButton2');
        const recordButton3 = document.querySelector('#recordButton3');
        const recordButton4 = document.querySelector('#recordButton4');
        const recordButton5 = document.querySelector('#recordButton5');
        let recognizedText = '';
        var xhr = new XMLHttpRequest();

        recordButton1.addEventListener('click', function() {ifButtonClicked(1);});
        recordButton2.addEventListener('click', function() {ifButtonClicked(2);});
        recordButton3.addEventListener('click', function() {ifButtonClicked(3);});
        recordButton4.addEventListener('click', function() {ifButtonClicked(4);});
        recordButton5.addEventListener('click', function() {ifButtonClicked(5);});
        
        function ifButtonClicked(buttonId){
                const recognition = new webkitSpeechRecognition();
                recognition.lang = 'uk-UA'; // set language to Ukrainian
                recognition.onstart = function() {};

                recognition.onresult = function(event) {
                    recognizedText = event.results[0][0].transcript;

                    // check for keywords in recognized text
                    const keywords1 = ['треш', 'нудно', 'відраза', 'викидати', 'один', 'треша', 'нудної', 'відрази', 'викидати', 'одного', 'трешу', 'нудному', 'відразі', 'викидати', 'одному', 'треш', 'нудно', 'відразу', 'викидати', 'один', 'трешем', 'нудною', 'відразою', 'викидати', 'одним', 'треші', 'нудній', 'відразі', 'викидати', 'одній', 'відвідний', 'безглуздий', 'мерзенний', 'тошнить', 'гидота', 'гімно', 'кал', 'відвідного', 'безглуздого', 'мерзенного', 'тошнить', 'гидоти', 'гімна', 'кала', 'відвідному', 'безглуздому', 'мерзенному', 'тошнить', 'гидоті', 'гімну', 'калу', 'відвідний', 'безглуздий', 'мерзенний', 'тошнить', 'гидота', 'гімно', 'кал', 'відвідним', 'безглуздим', 'мерзенним', 'тошнить', 'гидотою', 'гімном', 'калом', 'відвідному', 'безглуздому', 'мерзенному', 'тошнить', 'гидоті', 'гімну', 'калу','відразливий', 'брудний', 'неохайний', 'абомінабельний', 'гидотний', 'бридкий', 'відразливого', 'брудного', 'неохайного', 'абомінабельного', 'гидотного', 'бридкого', 'відразливому', 'брудному', 'неохайному', 'абомінабельному', 'гидотному', 'бридкому', 'відразливий', 'брудний', 'неохайний', 'абомінабельний', 'гидотний', 'бридкий', 'відразливим', 'брудним', 'неохайним', 'абомінабельним', 'гидотним', 'бридким', 'відразливому', 'брудному', 'неохайному', 'абомінабельному', 'гидотному', 'бридкому', 'поганий', 'туфта', 'огидний', 'гидкий', 'жахливий', 'неприємний', 'поганого', 'туфти', 'огидного', 'гидкого', 'жахливого', 'неприємного', 'поганому', 'туфті', 'огидному', 'гидкому', 'жахливому', 'неприємному', 'поганий', 'туфта', 'огидний', 'гидкий', 'жахливий', 'неприємний', 'поганим', 'туфтою', 'огидним', 'гидким', 'жахливим', 'неприємним', 'поганому', 'туфті', 'огидному', 'гидкому', 'жахливому', 'неприємному', 'некрасива', 'некрасивого', 'некрасивій', 'некрасиву', 'некрасивою', 'некрасиві', 'некрасивих', 'некрасивим', 'некрасивими', 'некрасивій', 'неприваблива', 'непривабливого', 'непривабливій', 'непривабливу', 'непривабливою', 'непривабливі', 'непривабливих', 'непривабливим', 'непривабливими', 'непривабливій', 'незахоплююча', 'незахоплюючого', 'незахоплюючій', 'незахоплюючу', 'незахоплюючою', 'незахоплюючі', 'незахоплюючих', 'незахоплюючим', 'незахоплюючими', 'незахоплюючій', 'нудна', 'нудного', 'нудній', 'нудну', 'нудною', 'нудні', 'нудних', 'нудним', 'нудними', 'нудній', 'відсутність кольору', 'відсутності кольору', 'відсутності кольору', 'відсутність кольору', 'відсутністю кольору', 'відсутності кольору', 'відсутностей кольору', 'відсутностям кольору', 'відсутностями кольору', 'відсутності кольору', 'монотонна', 'монотонного', 'монотонній', 'монотонну', 'монотонною', 'монотонні', 'монотонних', 'монотонним', 'монотонними', 'монотонній', 'безвиразна', 'безвиразного', 'безвиразній', 'безвиразну', 'безвиразною', 'безвиразні', 'безвиразних', 'безвиразним', 'безвиразними', 'безвиразній', 'байдужа', 'байдужого', 'байдужій', 'байдужу', 'байдужою', 'байдужі', 'байдужих', 'байдужим', 'байдужими', 'байдужій', 'втомлююча', 'втомлюючого', 'втомлюючій', 'втомлюючу', 'втомлюючою', 'втомлюючі', 'втомлюючих', 'втомлюючим', 'втомлюючими', 'втомлюючій', 'відсутність деталей', 'відсутності деталей', 'відсутності деталей'];
                    const keywords2 = ['такий собі', 'такого собі', 'такому собі', 'такого собою', 'такому собі', 'така собі', 'такої собі','такій собі', 'такою собою', 'такій собі', 'таке собі', 'такого собі', 'такому собі', 'таким собою','такому собі', 'звичайний', 'звичайного', 'звичайному', 'звичайним', 'звичайному', 'звичайна','звичайної', 'звичайній', 'звичайною', 'звичайній', 'звичайне', 'звичайного', 'звичайному', 'звичайним','звичайному', 'байдужий', 'байдужого', 'байдужому', 'байдужим', 'байдужому', 'байдужа', 'байдужої','байдужій', 'байдужою', 'байдужій', 'байдуже', 'байдужого', 'байдужому', 'байдужим', 'байдужому','нічого особливого', 'нічого особливого', 'нічому особливому', 'нічим особливим', 'нічому особливому','нічого особливого', 'нічого особливої', 'нічому особливій', 'нічим особливою', 'нічому особливій','нічого особливого', 'нічого особливого', 'нічому особливому', 'нічим особливим', 'нічому особливому','два', 'двох', 'двом', 'двох', 'двом', 'дві', 'двох', 'двом', 'двома', 'двій','cередня', 'середньої', 'середній', 'середню', 'середньою', 'середні', 'середніх', 'середнім', 'середніми', 'середній', 'проста', 'простої', 'простій', 'просту', 'простою', 'прості', 'простих', 'простим', 'простими', 'простій', 'звичайна', 'звичайної', 'звичайній', 'звичайну', 'звичайною', 'звичайні', 'звичайних', 'звичайним', 'звичайними', 'звичайній', 'скромна', 'скромної', 'скромній', 'скромну', 'скромною', 'скромні', 'скромних', 'скромним', 'скромними', 'скромній', 'непомітна', 'непомітної', 'непомітній', 'непомітну', 'непомітною', 'непомітні', 'непомітних', 'непомітним', 'непомітними', 'непомітній', 'засмучена', 'засмученої', 'засмученій', 'засмучену', 'засмученою', 'засмучені', 'засмучених', 'засмученим', 'засмученими', 'засмученій', 'засмагла', 'засмаглої', 'засмаглій', 'засмаглу', 'засмаглою', 'засмаглі', 'засмаглих', 'засмаглим', 'засмаглими', 'засмаглій', 'млява', 'млявої', 'млявій', 'мляву', 'млявою', 'мляві', 'млявих', 'млявим', 'млявими', 'млявій', 'сіра', 'сірої', 'сірій', 'сіру', 'сірою', 'сірі', 'сірих', 'сірим', 'сірими', 'сірій', 'неприємна', 'неприємної', 'неприємній', 'неприємну', 'неприємною', 'неприємні', 'неприємних', 'неприємним', 'неприємними', 'неприємній.'];
                    const keywords3 = ['виразний', 'виразного', 'виразному', 'виразного', 'виразним', 'виразному', 'виразна', 'виразної', 'виразній', 'виразну', 'виразною', 'виразній', 'виразне', 'виразного', 'виразному', 'виразним', 'виразному', 'кращий', 'кращого', 'кращому', 'кращого', 'кращим', 'кращому', 'краща', 'кращої', 'кращій', 'кращу', 'кращою', 'кращій', 'краще', 'кращого', 'кращому', 'кращим', 'кращому', 'три', 'трьох', 'трьом', 'три', 'трьома','цікава', 'цікавої', 'цікавій', 'цікаву', 'цікавою', 'цікаві', 'цікавих', 'цікавим', 'цікавими', 'цікавій', 'хороша', 'хорошої', 'хорошій', 'хорошу', 'хорошею', 'хороші', 'хороших', 'хорошим', 'хорошими', 'хорошій', 'яскрава', 'яскравої', 'яскравій', 'яскраву', 'яскравою', 'яскраві', 'яскравих', 'яскравим', 'яскравими', 'яскравій', 'виразна', 'виразної', 'виразній', 'виразну', 'виразною', 'виразні', 'виразних', 'виразним', 'виразними', 'виразній', 'насичена', 'насиченої', 'насиченій', 'насичену', 'насиченою', 'насичені', 'насичених', 'насиченим', 'насиченими', 'насиченій', 'енергійна', 'енергійної', 'енергійній', 'енергійну', 'енергійною', 'енергійні', 'енергійних', 'енергійним', 'енергійними', 'енергійній', 'сильна', 'сильної', 'сильній', 'сильну', 'сильною', 'сильні', 'сильних', 'сильним', 'сильними', 'сильній', 'загадкова', 'загадкової', 'загадковій', 'загадкову', 'загадковою', 'загадкові', 'загадкових', 'загадковим', 'загадковими', 'загадковій', 'вразлива', 'вразливої', 'вразливій', 'вразливу', 'вразливою', 'вразливі', 'вразливих', 'вразливим', 'вразливими', 'вразливій', 'дивна', 'дивної', 'дивній', 'дивну', 'дивною', 'дивні', 'дивних', 'дивним', 'дивними', 'дивній'];
                    const keywords4 = ["чотири", "чотирьох", "чотирьом", "чотирма", "чотирьох", "чотири", "чотирьох", "чотирьом", "чотирма", "чотирьох", "чотири", "чотирьох", "чотирьом", "чотирма", "чотирьох",'Красива', 'Красивіша', 'Красивіші', 'Красивий', 'Красивого', 'Красивому', 'Красивим', 'Красивому', 'Красиві', 'Красивіші', 'Красивіших', 'Красивими', 'Чудова', 'Чудової', 'Чудовій', 'Чудову', 'Чудовим', 'Чудовому', 'Чудовими', 'Приваблива', 'Привабливої', 'Привабливій', 'Привабливу', 'Привабливим', 'Привабливому', 'Привабливі', 'Привабливіші', 'Привабливіших', 'Привабливими', 'Витончена', 'Витонченої', 'Витонченій', 'Витончену', 'Витонченим', 'Витонченому', 'Витонченими', 'Елегантна', 'Елегантної', 'Елегантній', 'Елегантну', 'Елегантним', 'Елегантному', 'Елегантними', 'Шикарна', 'Шикарної', 'Шикарній', 'Шикарну', 'Шикарним', 'Шикарному', 'Шикарними', 'Незвична', 'Незвичайна', 'Незвичайній', 'Незвичайну', 'Незвичайним', 'Незвичайному', 'Незвичайними', 'Таємнича', 'Таємничої', 'Таємничій', 'Таємничу', 'Таємничим', 'Таємничому', 'Таємничими', 'Розкішна', 'Розкішної', 'Розкішній', 'Розкішну', 'Розкішним', 'Розкішному', 'Розкішними', 'Незабутня', 'Незабутньої', 'Незабутній', 'Незабутню', 'Незабутнім', 'Незабутньому', 'Незабутніми'];
                    const keywords5 = ['п\'ять', 'п\'яти', 'п\'яти', 'п\'ять', 'п\'ятьма', 'п\'яти', 'п\'ятих', 'п\'яті', 'п\'ятьма', 'п\'яті', 'п\'ять','Вражаюча', 'неперевершена', 'неймовірна', 'божественна', 'бездоганна', 'фантастична', 'хвилююча', 'магічна', 'феноменальна', 'неземна'];
                    

                    if (keywords1.some(keyword => recognizedText.toLowerCase().includes(keyword.toLowerCase()))) {
                        // execute code for keywords1
                        alert(`Ви сказали: ${recognizedText}`);
                        document.getElementById('volume'+buttonId).value=1;
                    } else if (keywords2.some(keyword => recognizedText.toLowerCase().includes(keyword.toLowerCase()))) {
                        // execute code for keywords2
                        alert(`Ви сказали: ${recognizedText}`);
                        document.getElementById('volume'+buttonId).value=2;
                    } else if (keywords3.some(keyword => recognizedText.toLowerCase().includes(keyword.toLowerCase()))) {
                        // execute code for keywords3
                        alert(`Ви сказали: ${recognizedText}`);
                        document.getElementById('volume'+buttonId).value=3;
                    } else if (keywords4.some(keyword => recognizedText.toLowerCase().includes(keyword.toLowerCase()))) {
                        // execute code for keywords4
                        alert(`Ви сказали: ${reco<!DOCTYPE html>
